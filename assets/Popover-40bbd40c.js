import{a2 as bo,a1 as wo,s as so,C as Eo,r as l,a7 as To,a8 as O,ax as Ro,a5 as P,ay as Q,b3 as Z,a9 as oo,j as z,a_ as So,aa as Co,bj as Oo}from"./index-6881a38b.js";import{M as zo}from"./Modal-04cf2a2a.js";import{o as eo,d as _o}from"./ownerWindow-71250041.js";function Mo(t){return bo("MuiPopover",t)}wo("MuiPopover",["root","paper"]);const jo=["onEntering"],ko=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Lo=["slotProps"];function to(t,o){let s=0;return typeof o=="number"?s=o:o==="center"?s=t.height/2:o==="bottom"&&(s=t.height),s}function no(t,o){let s=0;return typeof o=="number"?s=o:o==="center"?s=t.width/2:o==="right"&&(s=t.width),s}function ro(t){return[t.horizontal,t.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function _(t){return typeof t=="function"?t():t}const Wo=t=>{const{classes:o}=t;return Co({root:["root"],paper:["paper"]},Mo,o)},$o=so(zo,{name:"MuiPopover",slot:"Root",overridesResolver:(t,o)=>o.root})({}),Do=so(Eo,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ho=l.forwardRef(function(o,s){var M,j,k;const x=To({props:o,name:"MuiPopover"}),{action:io,anchorEl:c,anchorOrigin:m={vertical:"top",horizontal:"left"},anchorPosition:L,anchorReference:v="anchorEl",children:ao,className:lo,container:co,elevation:W=8,marginThreshold:i=16,open:f,PaperProps:po={},slots:y,slotProps:b,transformOrigin:g={vertical:"top",horizontal:"left"},TransitionComponent:w=Oo,transitionDuration:E="auto",TransitionProps:{onEntering:$}={},disableScrollLock:T=!1}=x,D=O(x.TransitionProps,jo),fo=O(x,ko),u=(M=b==null?void 0:b.paper)!=null?M:po,R=l.useRef(),uo=Ro(R,u.ref),S=P({},x,{anchorOrigin:m,anchorReference:v,elevation:W,marginThreshold:i,externalPaperSlotProps:u,transformOrigin:g,TransitionComponent:w,transitionDuration:E,TransitionProps:D}),H=Wo(S),N=l.useCallback(()=>{if(v==="anchorPosition")return L;const e=_(c),r=(e&&e.nodeType===1?e:Q(R.current).body).getBoundingClientRect();return{top:r.top+to(r,m.vertical),left:r.left+no(r,m.horizontal)}},[c,m.horizontal,m.vertical,L,v]),A=l.useCallback(e=>({vertical:to(e,g.vertical),horizontal:no(e,g.horizontal)}),[g.horizontal,g.vertical]),U=l.useCallback(e=>{const n={width:e.offsetWidth,height:e.offsetHeight},r=A(n);if(v==="none")return{top:null,left:null,transformOrigin:ro(r)};const V=N();let d=V.top-r.vertical,h=V.left-r.horizontal;const X=d+n.height,Y=h+n.width,q=eo(_(c)),J=q.innerHeight-i,K=q.innerWidth-i;if(i!==null&&d<i){const a=d-i;d-=a,r.vertical+=a}else if(i!==null&&X>J){const a=X-J;d-=a,r.vertical+=a}if(i!==null&&h<i){const a=h-i;h-=a,r.horizontal+=a}else if(Y>K){const a=Y-K;h-=a,r.horizontal+=a}return{top:`${Math.round(d)}px`,left:`${Math.round(h)}px`,transformOrigin:ro(r)}},[c,v,N,A,i]),[ho,F]=l.useState(f),p=l.useCallback(()=>{const e=R.current;if(!e)return;const n=U(e);n.top!==null&&(e.style.top=n.top),n.left!==null&&(e.style.left=n.left),e.style.transformOrigin=n.transformOrigin,F(!0)},[U]);l.useEffect(()=>(T&&window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)),[c,T,p]);const Po=(e,n)=>{$&&$(e,n),p()},mo=()=>{F(!1)};l.useEffect(()=>{f&&p()}),l.useImperativeHandle(io,()=>f?{updatePosition:()=>{p()}}:null,[f,p]),l.useEffect(()=>{if(!f)return;const e=_o(()=>{p()}),n=eo(c);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}},[c,f,p]);let I=E;E==="auto"&&!w.muiSupportAuto&&(I=void 0);const vo=co||(c?Q(_(c)).body:void 0),C=(j=y==null?void 0:y.root)!=null?j:$o,B=(k=y==null?void 0:y.paper)!=null?k:Do,go=Z({elementType:B,externalSlotProps:P({},u,{style:ho?u.style:P({},u.style,{opacity:0})}),additionalProps:{elevation:W,ref:uo},ownerState:S,className:oo(H.paper,u==null?void 0:u.className)}),G=Z({elementType:C,externalSlotProps:(b==null?void 0:b.root)||{},externalForwardedProps:fo,additionalProps:{ref:s,slotProps:{backdrop:{invisible:!0}},container:vo,open:f},ownerState:S,className:oo(H.root,lo)}),{slotProps:xo}=G,yo=O(G,Lo);return z.jsx(C,P({},yo,!So(C)&&{slotProps:xo,disableScrollLock:T},{children:z.jsx(w,P({appear:!0,in:f,onEntering:Po,onExited:mo,timeout:I},D,{children:z.jsx(B,P({},go,{children:ao}))}))}))}),Fo=Ho;export{Fo as P,Do as a};
