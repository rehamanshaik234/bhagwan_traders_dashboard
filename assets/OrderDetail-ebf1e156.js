import{V as y,u as b,r as B,j as t,C as c}from"./index-6881a38b.js";import{B as O}from"./Breadcrumb-463c378a.js";import{u as A}from"./useOrderDetails-d1cb5a60.js";import{B as m,T as r}from"./Box-d449a0b0.js";import{C}from"./CircularProgress-8429f72f.js";import{B as w}from"./Button-ff562e0b.js";import{D as _}from"./Divider-2303db12.js";import{A as S}from"./Avatar-963f1f93.js";import"./index.esm-522351cb.js";import"./Grid-132cce37.js";import"./Link-585f2144.js";import"./dividerClasses-f2209139.js";const $=[{to:"/",title:"Home"},{to:"/dispatchedOrders",title:"Dispatched Orders"},{title:"Order Details"}],L=()=>{var l;const{id:s}=y(),d=b(),{orderDetail:n,requestDetails:u,loading:x}=A();if(B.useEffect(()=>{u(s)},[s]),x||!n)return t.jsxs(m,{p:4,textAlign:"center",children:[t.jsx(C,{}),t.jsx(r,{mt:2,children:"Loading order details..."})]});const{customer_id:h,status:p,total_amount:g,created_at:j,latitude:f,longitude:v,address:e,customer:o,order_items:a}=n,i=(l=a==null?void 0:a[0])==null?void 0:l.product,D=`https://www.google.com/maps/embed/v1/directions?key=AIzaSyAgJaHy0QbjM9qZfn3NtDvdJQh4u6StR5s&origin=${f},${v}&destination=${e==null?void 0:e.latitude},${e==null?void 0:e.longitude}&mode=driving`;return t.jsxs(t.Fragment,{children:[t.jsx(O,{title:`Order #${s}`,items:$}),t.jsxs(c,{sx:{p:3,mb:4},children:[t.jsx(w,{variant:"contained",onClick:()=>d("/dispatchedOrders"),sx:{mb:2},children:"← Back to Dispatched Orders"}),t.jsxs(r,{variant:"h6",children:["Customer ID: ",h]}),t.jsxs(r,{children:["Status: ",p]}),t.jsxs(r,{children:["Total Amount: ₹",g]}),t.jsxs(r,{children:["Created At: ",new Date(j).toLocaleString("en-IN")]}),t.jsx(_,{sx:{my:3}}),t.jsx(r,{variant:"h6",gutterBottom:!0,children:"Delivery Details"}),t.jsxs(r,{children:[t.jsx("strong",{children:"Customer Number:"})," ",o==null?void 0:o.number]}),t.jsxs(r,{children:[t.jsx("strong",{children:"Address:"})," ",e==null?void 0:e.building_name,", ",e==null?void 0:e.address_line,", ",e==null?void 0:e.city,", ",e==null?void 0:e.state," - ",e==null?void 0:e.postal_code]}),i&&t.jsxs(m,{mt:2,display:"flex",alignItems:"center",gap:2,children:[t.jsx(S,{src:i.image_url,alt:i.name,variant:"rounded",sx:{width:64,height:64}}),t.jsx(r,{variant:"subtitle1",children:i.name})]})]}),t.jsxs(c,{sx:{p:3},children:[t.jsx(r,{variant:"h6",gutterBottom:!0,children:"Delivery Route (Google Maps)"}),t.jsx("iframe",{title:"Order Route",width:"100%",height:"400",style:{border:0},loading:"lazy",allowFullScreen:!0,src:D})]})]})};export{L as default};
