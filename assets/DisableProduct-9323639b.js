import{W as u,j as e,r as c,C as B,S as L,v as E,I as p}from"./index-6881a38b.js";import{B as R}from"./Breadcrumb-463c378a.js";import{u as F}from"./useInventory-26d185b2.js";import{B as S,T as H}from"./Box-d449a0b0.js";import{T as K}from"./TableContainer-0ad4f5c4.js";import{T as _,a as N,b as x,c as t,d as O}from"./TableRow-d0664d59.js";import{C as W}from"./Chip-800657f9.js";import{B as f}from"./Button-ff562e0b.js";import{T as Y}from"./TableFooter-169d4b91.js";import{T as q}from"./TablePagination-5840844c.js";import{D as G,a as J}from"./DialogContent-f1adb223.js";import{D as Q}from"./DialogTitle-7dff730c.js";import{D as U}from"./DialogContentText-2adaa8cb.js";import{D as V}from"./DialogActions-bbf09e0d.js";import"./index.esm-522351cb.js";import"./Grid-132cce37.js";import"./Link-585f2144.js";import"./KeyboardArrowRight-b6f9714b.js";import"./Toolbar-f3beb080.js";import"./Select-d12d8e0d.js";import"./Popover-40bbd40c.js";import"./Modal-04cf2a2a.js";import"./Fade-577ca4d2.js";import"./ownerWindow-71250041.js";import"./createChainedFunction-0bab83cf.js";import"./Portal-343632f1.js";import"./List-9cc45e96.js";import"./utils-a73c94d0.js";import"./useControlled-4f8eaaf0.js";import"./useId-c7e897e5.js";import"./formControlState-a1fb9590.js";import"./useFormControl-d4f0b139.js";import"./MenuItem-0a5cd614.js";import"./listItemTextClasses-0a907018.js";import"./dividerClasses-f2209139.js";const D=u(e.jsx("path",{d:"M18.41 16.59 13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),v=u(e.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft"),y=u(e.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),I=u(e.jsx("path",{d:"M5.59 7.41 10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");function X({count:a,page:o,rowsPerPage:d,onPageChange:n}){const i=E();return e.jsxs(S,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(p,{onClick:r=>n(r,0),disabled:o===0,children:i.direction==="rtl"?e.jsx(I,{}):e.jsx(D,{})}),e.jsx(p,{onClick:r=>n(r,o-1),disabled:o===0,children:i.direction==="rtl"?e.jsx(y,{}):e.jsx(v,{})}),e.jsx(p,{onClick:r=>n(r,o+1),disabled:o>=Math.ceil(a/d)-1,children:i.direction==="rtl"?e.jsx(v,{}):e.jsx(y,{})}),e.jsx(p,{onClick:r=>n(r,Math.max(0,Math.ceil(a/d)-1)),disabled:o>=Math.ceil(a/d)-1,children:i.direction==="rtl"?e.jsx(D,{}):e.jsx(I,{})})]})}const Z=[{to:"/",title:"Home"},{title:"Disabled Products"}],Le=()=>{const{getProducts:a,products:o,categories:d,enableProduct:n}=F(),[i,r]=c.useState(0),[m,k]=c.useState(5),[g,C]=c.useState(null),[j,b]=c.useState({open:!1,message:""}),[P,h]=c.useState({open:!1,productId:null});c.useEffect(()=>{a({is_active:0})},[]);const w=async s=>{try{C(s),await n(s),b({open:!0,message:"Product enabled successfully"}),await a({is_active:0})}catch{b({open:!0,message:"Failed to enable product"})}finally{C(null)}},A=(s,l)=>r(l),M=s=>{k(parseInt(s.target.value,10)),r(0)},T=m>0?o.slice(i*m,i*m+m):o;return e.jsxs(S,{children:[e.jsx(R,{title:"Disabled Products",items:Z}),e.jsxs(B,{elevation:3,sx:{mt:2,p:2},children:[e.jsx(H,{variant:"h6",mb:2,children:"Disabled Product List"}),e.jsx(K,{children:e.jsxs(_,{children:[e.jsx(N,{children:e.jsxs(x,{sx:{backgroundColor:"#f5f5f5"},children:[e.jsx(t,{children:"Name"}),e.jsx(t,{children:"Category"}),e.jsx(t,{children:"Price"}),e.jsx(t,{children:"Stock"}),e.jsx(t,{children:"Status"}),e.jsx(t,{children:"Action"})]})}),e.jsx(O,{children:T.length>0?T.map(s=>{const l=d.find(z=>z.id===s.category_id);return e.jsxs(x,{children:[e.jsx(t,{children:s.name}),e.jsx(t,{children:(l==null?void 0:l.name)||"-"}),e.jsx(t,{children:s.price}),e.jsx(t,{children:s.stock}),e.jsx(t,{children:e.jsx(W,{label:"Disabled",color:"default",size:"small"})}),e.jsx(t,{children:e.jsx(f,{variant:"outlined",color:"success",size:"small",onClick:()=>h({open:!0,productId:s.id}),disabled:g===s.id,children:g===s.id?"Enabling...":"Enable"})})]},s.id)}):e.jsx(x,{children:e.jsx(t,{colSpan:6,align:"center",children:"No disabled products found."})})}),e.jsx(Y,{children:e.jsx(x,{children:e.jsx(q,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:o.length,rowsPerPage:m,page:i,SelectProps:{native:!0},onPageChange:A,onRowsPerPageChange:M,ActionsComponent:X})})})]})})]}),e.jsxs(G,{open:P.open,onClose:()=>h({open:!1,productId:null}),children:[e.jsx(Q,{children:"Confirm Enable"}),e.jsx(J,{children:e.jsx(U,{children:"Are you sure you want to enable this product?"})}),e.jsxs(V,{children:[e.jsx(f,{onClick:()=>h({open:!1,productId:null}),color:"inherit",children:"Cancel"}),e.jsx(f,{onClick:async()=>{await w(P.productId),h({open:!1,productId:null})},color:"success",variant:"contained",children:"Yes, Enable"})]})]}),e.jsx(L,{open:j.open,autoHideDuration:3e3,onClose:()=>b({...j,open:!1}),message:j.message,anchorOrigin:{vertical:"bottom",horizontal:"right"}})]})};export{Le as default};
