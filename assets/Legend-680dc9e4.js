import{a1 as I,a2 as U,s as H,a3 as Q,a4 as $,a5 as P,a6 as w,r as i,a7 as F,a8 as K,j as V,a9 as z,aa as q,n as Y,m as Z,ab as N,Y as X,ac as ee,ad as te,ae as re,af as oe}from"./index-6881a38b.js";import{S as ae,c as ne,d as ie,e as le,u as se,s as ce,i as ue,f as de,g as pe,h as ge,j as fe,k as ve,l as he,m as J,n as me,o as _}from"./BarChart-47639d70.js";function ye(e){return U("MuiToggleButton",e)}const be=I("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),A=be,Oe=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],Pe=e=>{const{classes:t,fullWidth:r,selected:o,disabled:a,size:l,color:u}=e,s={root:["root",o&&"selected",a&&"disabled",r&&"fullWidth",`size${$(l)}`,u]};return q(s,ye,t)},xe=H(Q,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`size${$(r.size)}`]]}})(({theme:e,ownerState:t})=>{let r=t.color==="standard"?e.palette.text.primary:e.palette[t.color].main,o;return e.vars&&(r=t.color==="standard"?e.vars.palette.text.primary:e.vars.palette[t.color].main,o=t.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),P({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${A.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:w(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${A.selected}`]:{color:r,backgroundColor:e.vars?`rgba(${o} / ${e.vars.palette.action.selectedOpacity})`:w(r,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${o} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:w(r,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${o} / ${e.vars.palette.action.selectedOpacity})`:w(r,e.palette.action.selectedOpacity)}}}},t.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},t.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),Ce=i.forwardRef(function(t,r){const o=F({props:t,name:"MuiToggleButton"}),{children:a,className:l,color:u="standard",disabled:s=!1,disableFocusRipple:c=!1,fullWidth:d=!1,onChange:n,onClick:f,selected:m,size:p="medium",value:y}=o,h=K(o,Oe),O=P({},o,{color:u,disabled:s,disableFocusRipple:c,fullWidth:d,size:p}),E=Pe(O),S=g=>{f&&(f(g,y),g.defaultPrevented)||n&&n(g,y)};return V.jsx(xe,P({className:z(E.root,l),disabled:s,focusRipple:!c,ref:r,onClick:S,onChange:n,value:y,ownerState:O,"aria-pressed":m},h,{children:a}))}),qe=Ce;function je(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.indexOf(e)>=0:e===t}function we(e){return U("MuiToggleButtonGroup",e)}const $e=I("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth"]),b=$e,Ee=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],Se=e=>{const{classes:t,orientation:r,fullWidth:o,disabled:a}=e,l={root:["root",r==="vertical"&&"vertical",o&&"fullWidth"],grouped:["grouped",`grouped${$(r)}`,a&&"disabled"]};return q(l,we,t)},ze=H("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${b.grouped}`]:t.grouped},{[`& .${b.grouped}`]:t[`grouped${$(r.orientation)}`]},t.root,r.orientation==="vertical"&&t.vertical,r.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>P({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${b.grouped}`]:P({},e.orientation==="horizontal"?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${b.selected} + .${b.grouped}.${b.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${b.selected} + .${b.grouped}.${b.selected}`]:{borderTop:0,marginTop:0}})})),Be=i.forwardRef(function(t,r){const o=F({props:t,name:"MuiToggleButtonGroup"}),{children:a,className:l,color:u="standard",disabled:s=!1,exclusive:c=!1,fullWidth:d=!1,onChange:n,orientation:f="horizontal",size:m="medium",value:p}=o,y=K(o,Ee),h=P({},o,{disabled:s,fullWidth:d,orientation:f,size:m}),O=Se(h),E=(g,x)=>{if(!n)return;const k=p&&p.indexOf(x);let j;p&&k>=0?(j=p.slice(),j.splice(k,1)):j=p?p.concat(x):[x],n(g,j)},S=(g,x)=>{n&&n(g,p===x?null:x)};return V.jsx(ze,P({role:"group",className:z(O.root,l),ref:r,ownerState:h},y,{children:i.Children.map(a,g=>i.isValidElement(g)?i.cloneElement(g,{className:z(O.grouped,g.props.className),onChange:c?S:E,selected:g.props.selected===void 0?je(g.props.value,p):g.props.selected,size:g.props.size||m,fullWidth:d,color:g.props.color||u,disabled:g.props.disabled||s}):null)}))}),Je=Be,Qe=({type:e="monthly",metric:t="amount",filters:r={}})=>{const o=Y(),{amountData:a,productData:l,loading:u,error:s}=Z(d=>d.sales),c=()=>{const d=new URLSearchParams({type:e,...r}).toString();return`/sales/${t==="product"?"product-stats":"amount-stats"}?${d}`};return i.useEffect(()=>{(async()=>{o(N(!0));try{const n=await X.get(c());o(t==="product"?ee(n.data.data):te(n.data.data))}catch(n){o(re(n.message))}finally{o(N(!1))}})()},[e,t,JSON.stringify(r),o]),{data:(t==="product"?l:a)||[],loading:u,error:s}};function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},B.apply(null,arguments)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,o)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(o){T(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function T(e,t,r){return(t=Te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e){var t=Le(e,"string");return typeof t=="symbol"?t:t+""}function Le(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v=32;class L extends i.PureComponent{renderIcon(t,r){var{inactiveColor:o}=this.props,a=v/2,l=v/6,u=v/3,s=t.inactive?o:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return i.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:v,y2:a,className:"recharts-legend-icon"});if(c==="line")return i.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(v,"M").concat(2*u,",").concat(a,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return i.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(v/8,"h").concat(v,"v").concat(v*3/4,"h").concat(-v,"z"),className:"recharts-legend-icon"});if(i.isValidElement(t.legendIcon)){var d=Re({},t);return delete d.legendIcon,i.cloneElement(t.legendIcon,d)}return i.createElement(ae,{fill:s,cx:a,cy:a,size:v,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:o,formatter:a,inactiveColor:l,iconType:u}=this.props,s={x:0,y:0,width:v,height:v},c={display:o==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((n,f)=>{var m=n.formatter||a,p=ne({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:n.inactive});if(n.type==="none")return null;var y=n.inactive?l:n.color,h=m?m(n.value,n,f):n.value;return i.createElement("li",B({className:p,style:c,key:"legend-item-".concat(f)},ie(this.props,n,f)),i.createElement(le,{width:r,height:r,viewBox:s,style:d,"aria-label":"".concat(h," legend icon")},this.renderIcon(n,u)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},h))})}render(){var{payload:t,layout:r,align:o}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?o:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}T(L,"displayName","Legend");T(L,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});function De(){return se(ce)}var We=["contextPayload"];function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},R.apply(null,arguments)}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,o)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(o){D(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function D(e,t,r){return(t=ke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(e){var t=Ne(e,"string");return typeof t=="symbol"?t:t+""}function Ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _e(e,t){if(e==null)return{};var r,o,a=Ae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ae(e,t){if(e==null)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;r[o]=e[o]}return r}function Me(e){return e.value}function Ge(e){var{contextPayload:t}=e,r=_e(e,We),o=he(t,e.payloadUniqBy,Me),a=C(C({},r),{},{payload:o});return i.isValidElement(e.content)?i.cloneElement(e.content,a):typeof e.content=="function"?i.createElement(e.content,a):i.createElement(L,a)}function Ie(e,t,r,o,a,l){var{layout:u,align:s,verticalAlign:c}=t,d,n;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&u==="vertical"?d={left:((o||0)-l.width)/2}:d=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?n={top:((a||0)-l.height)/2}:n=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),C(C({},d),n)}function Ue(e){var t=J();return i.useEffect(()=>{t(me(e))},[t,e]),null}function He(e){var t=J();return i.useEffect(()=>(t(_(e)),()=>{t(_({width:0,height:0}))}),[t,e]),null}function Fe(e){var t=De(),r=de(),o=pe(),{width:a,height:l,wrapperStyle:u,portal:s}=e,[c,d]=ge([t]),n=fe(),f=ve(),m=n-(o.left||0)-(o.right||0),p=W.getWidthOrHeight(e.layout,l,a,m),y=s?u:C(C({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||l||"auto"},Ie(u,e,o,n,f,c)),u),h=s??r;if(h==null)return null;var O=i.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},i.createElement(Ue,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),i.createElement(He,{width:c.width,height:c.height}),i.createElement(Ge,R({},e,p,{margin:o,chartWidth:n,chartHeight:f,contextPayload:t})));return oe.createPortal(O,h)}class W extends i.PureComponent{static getWidthOrHeight(t,r,o,a){return t==="vertical"&&ue(r)?{height:r}:t==="horizontal"?{width:o||a}:null}render(){return i.createElement(Fe,this.props)}}D(W,"displayName","Legend");D(W,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});export{W as L,Je as T,qe as a,Qe as u};
