import{n as P,m as D,r as m,T as S,j as e,C as O,v as _,I as d}from"./index-6881a38b.js";import{d as j,a as u,b as f,c as b}from"./LastPage-50f3a6a1.js";import{B as y}from"./Breadcrumb-463c378a.js";import{T as A}from"./TableContainer-0ad4f5c4.js";import{B as h}from"./Box-c0f8832c.js";import{C as B}from"./CircularProgress-8429f72f.js";import{T as g}from"./Box-d449a0b0.js";import{T as I,a as k,b as c,c as o,d as R}from"./TableRow-d0664d59.js";import{C as M}from"./Chip-800657f9.js";import{T as w}from"./TableFooter-169d4b91.js";import{T as E}from"./TablePagination-5840844c.js";import"./createSvgIcon-e0680651.js";import"./createChainedFunction-0bab83cf.js";import"./ownerWindow-71250041.js";import"./isMuiElement-4897e4b7.js";import"./useId-c7e897e5.js";import"./useControlled-4f8eaaf0.js";import"./index.esm-522351cb.js";import"./Grid-132cce37.js";import"./Link-585f2144.js";import"./KeyboardArrowRight-b6f9714b.js";import"./Toolbar-f3beb080.js";import"./Select-d12d8e0d.js";import"./Popover-40bbd40c.js";import"./Modal-04cf2a2a.js";import"./Fade-577ca4d2.js";import"./Portal-343632f1.js";import"./List-9cc45e96.js";import"./utils-a73c94d0.js";import"./formControlState-a1fb9590.js";import"./useFormControl-d4f0b139.js";import"./MenuItem-0a5cd614.js";import"./listItemTextClasses-0a907018.js";import"./dividerClasses-f2209139.js";const F=()=>{const r=P(),{deliveredOrders:s,loading:t,error:n}=D(i=>i.orders);return m.useEffect(()=>{r(S())},[r]),{orders:s,loading:t,error:n}},L=[{to:"/",title:"Home"},{title:"Delivered Orders"}];function $({count:r,page:s,rowsPerPage:t,onPageChange:n}){const i=_();return e.jsxs(h,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(d,{onClick:l=>n(l,0),disabled:s===0,children:i.direction==="rtl"?e.jsx(j,{}):e.jsx(u,{})}),e.jsx(d,{onClick:l=>n(l,s-1),disabled:s===0,children:i.direction==="rtl"?e.jsx(f,{}):e.jsx(b,{})}),e.jsx(d,{onClick:l=>n(l,s+1),disabled:s>=Math.ceil(r/t)-1,children:i.direction==="rtl"?e.jsx(b,{}):e.jsx(f,{})}),e.jsx(d,{onClick:l=>n(l,Math.max(0,Math.ceil(r/t)-1)),disabled:s>=Math.ceil(r/t)-1,children:i.direction==="rtl"?e.jsx(u,{}):e.jsx(j,{})})]})}const Te=()=>{const[r,s]=m.useState(0),[t,n]=m.useState(5),{orders:i,loading:l,error:x}=F(),p=r>0?Math.max(0,(1+r)*t-i.length):0,T=(a,v)=>s(v),C=a=>{n(parseInt(a.target.value,10)),s(0)};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Delivered Orders",items:L}),e.jsx(O,{variant:"outlined",children:e.jsx(A,{children:l?e.jsxs(h,{p:5,textAlign:"center",children:[e.jsx(B,{}),e.jsx(g,{mt:2,children:"Loading orders..."})]}):x?e.jsx(h,{p:5,textAlign:"center",children:e.jsx(g,{color:"error",children:x})}):e.jsxs(I,{sx:{whiteSpace:"nowrap"},children:[e.jsx(k,{children:e.jsxs(c,{sx:{backgroundColor:"#f5f5f5"},children:[e.jsx(o,{children:"Order ID"}),e.jsx(o,{children:"Customer ID"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Total Amount"}),e.jsx(o,{children:"Created At"})]})}),e.jsxs(R,{children:[(t>0?i.slice(r*t,r*t+t):i).map(a=>e.jsxs(c,{children:[e.jsx(o,{children:a.id}),e.jsx(o,{children:a.customer_id}),e.jsx(o,{children:e.jsx(M,{label:a.status,color:"success",size:"small"})}),e.jsxs(o,{children:["â‚¹",a.total_amount]}),e.jsxs(o,{children:[new Date(a.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})," ",new Date(a.created_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0})]})]},a.id)),p>0&&e.jsx(c,{style:{height:53*p},children:e.jsx(o,{colSpan:6})})]}),e.jsx(w,{children:e.jsx(c,{children:e.jsx(E,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:i.length,rowsPerPage:t,page:r,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:T,onRowsPerPageChange:C,ActionsComponent:$})})})]})})})]})};export{Te as default};
